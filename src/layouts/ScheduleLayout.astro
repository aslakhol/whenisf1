---
import type monza from "../monza.json";
import InSeasonSchedule from "./InSeasonSchedule.astro";
import PreSeasonSchedule from "./PreSeasonSchedule.astro";

type RaceTable = typeof monza.MRData.RaceTable;

const raceTable: RaceTable = await fetch(
  "http://ergast.com/api/f1/current.json"
)
  .then((res) => res.json())
  .then((data) => data.MRData.RaceTable.Races);
---

{
  raceTable.season !== "2024" ? (
    <PreSeasonSchedule />
  ) : (
    <InSeasonSchedule races={raceTable.Races} />
  )
}
